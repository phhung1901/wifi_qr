<!DOCTYPE html>
<html>
<head>
    <title>Demo WiFi QR</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .demo-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .qr-result { margin: 20px 0; text-align: center; }
        img { max-width: 300px; height: auto; }
    </style>
</head>
<body>
    <h1>Demo WiFi QR Generator</h1>
    
    <div class="demo-section">
        <h2>Test QR Generation</h2>
        <button onclick="testQR()">Tạo QR Test</button>
        <div id="qr-result" class="qr-result"></div>
    </div>
    
    <div class="demo-section">
        <h2>Test với dữ liệu thực</h2>
        <form onsubmit="generateRealQR(event)">
            <p>
                <label>Tên WiFi: <input type="text" id="wifi-name" value="MyWiFi" required></label>
            </p>
            <p>
                <label>Mật khẩu: <input type="text" id="wifi-password" value="password123"></label>
            </p>
            <p>
                <button type="submit">Tạo QR</button>
            </p>
        </form>
        <div id="real-qr-result" class="qr-result"></div>
    </div>
    
    <script>
        function testQR() {
            const wifiString = "WIFI:T:WPA;S:TestWiFi;P:password123;;";
            const encodedData = encodeURIComponent(wifiString);
            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodedData}`;
            
            const result = document.getElementById('qr-result');
            result.innerHTML = `
                <h3>WiFi QR Code</h3>
                <img src="${qrUrl}" alt="WiFi QR Code" />
                <p><strong>WiFi String:</strong> ${wifiString}</p>
                <p><a href="${qrUrl}" download="test-qr.png">Tải xuống</a></p>
            `;
        }
        
        function generateRealQR(event) {
            event.preventDefault();
            
            const ssid = document.getElementById('wifi-name').value;
            const password = document.getElementById('wifi-password').value;
            const encryption = password ? 'WPA' : 'nopass';
            
            const wifiString = `WIFI:T:${encryption};S:${ssid};P:${password};;`;
            const encodedData = encodeURIComponent(wifiString);
            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodedData}`;
            
            const result = document.getElementById('real-qr-result');
            result.innerHTML = `
                <h3>QR Code cho ${ssid}</h3>
                <img src="${qrUrl}" alt="WiFi QR Code" />
                <p><strong>Tên mạng:</strong> ${ssid}</p>
                <p><strong>Mã hóa:</strong> ${encryption}</p>
                <p><strong>WiFi String:</strong> ${wifiString}</p>
                <p><a href="${qrUrl}" download="wifi-${ssid}.png">Tải xuống</a></p>
            `;
        }
    </script>
</body>
</html>
