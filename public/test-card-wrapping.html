<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Card Text Wrapping</title>
    <style>
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .controls {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 30px;
        }
        .form-group {
            margin: 15px 0;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: white;
            font-weight: 500;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
        }
        input[type="text"]::placeholder, textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            margin: 10px 5px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 172, 254, 0.4);
        }
        .card-preview {
            text-align: center;
            margin: 30px 0;
        }
        .card-container {
            background: white;
            padding: 20px;
            border-radius: 16px;
            display: inline-block;
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.3);
        }
        canvas {
            border-radius: 12px;
        }
        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .example-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }
        .example-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“± Test Card Text Wrapping</h1>
        <p>Test how long text wraps in WiFi cards</p>
        
        <div class="controls">
            <h3>Card Content</h3>
            
            <div class="form-group">
                <label>WiFi Network Name:</label>
                <input type="text" id="wifi-name" value="My Super Long WiFi Network Name That Should Wrap">
            </div>
            
            <div class="form-group">
                <label>Brand Name:</label>
                <input type="text" id="brand-name" value="My Amazing Company With A Very Long Name">
            </div>
            
            <div class="form-group">
                <label>Description:</label>
                <textarea id="description" rows="3" placeholder="Enter a long description that will test text wrapping functionality on the WiFi card">Welcome to our premium WiFi network! This is a very long description that should wrap nicely across multiple lines to test our text wrapping functionality.</textarea>
            </div>
            
            <button onclick="generateCard()">Generate Test Card</button>
            
            <h4>Quick Examples:</h4>
            <div class="examples">
                <button class="example-btn" onclick="loadExample('short')">Short Text</button>
                <button class="example-btn" onclick="loadExample('medium')">Medium Text</button>
                <button class="example-btn" onclick="loadExample('long')">Long Text</button>
                <button class="example-btn" onclick="loadExample('extreme')">Extreme Long</button>
            </div>
        </div>
        
        <div class="card-preview">
            <h3>Card Preview</h3>
            <div class="card-container">
                <canvas id="card-canvas" width="400" height="600"></canvas>
            </div>
            <button onclick="downloadCard()">Download Card</button>
        </div>
    </div>

    <!-- QR Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.4/build/qrcode.min.js"></script>

    <script>
        const examples = {
            short: {
                wifi: "Home WiFi",
                brand: "My Company",
                description: "Welcome to our WiFi network"
            },
            medium: {
                wifi: "Coffee Shop Premium WiFi Network",
                brand: "Amazing Coffee & Bakery Co.",
                description: "Enjoy our complimentary high-speed internet while you relax with our premium coffee and fresh pastries."
            },
            long: {
                wifi: "Super Long WiFi Network Name That Goes On And On",
                brand: "The Most Amazing Company With An Incredibly Long Name",
                description: "Welcome to our premium WiFi network! We provide high-speed internet access for all our valued customers. Please enjoy browsing, working, or streaming while you're here."
            },
            extreme: {
                wifi: "This Is An Extremely Long WiFi Network Name That Should Definitely Test Our Text Wrapping Capabilities",
                brand: "The Ultimate Super Duper Amazing Company With The Longest Name You Have Ever Seen In Your Entire Life",
                description: "This is an extremely long description that will definitely test our text wrapping functionality. It contains multiple sentences and should wrap across several lines to ensure that our card layout remains beautiful and readable even with very long content. We want to make sure that no matter how much text someone enters, the card will always look professional and well-formatted."
            }
        };

        function loadExample(type) {
            const example = examples[type];
            document.getElementById('wifi-name').value = example.wifi;
            document.getElementById('brand-name').value = example.brand;
            document.getElementById('description').value = example.description;
            generateCard();
        }

        async function generateCard() {
            const canvas = document.getElementById('card-canvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add border
            ctx.strokeStyle = '#e5e5e7';
            ctx.lineWidth = 1;
            ctx.strokeRect(0, 0, canvas.width, canvas.height);
            
            let currentY = 60;
            
            // Brand name
            const brandName = document.getElementById('brand-name').value.trim();
            if (brandName) {
                ctx.fillStyle = '#1d1d1f';
                ctx.font = 'bold 28px SF Pro Display, sans-serif';
                ctx.textAlign = 'center';
                
                const maxWidth = canvas.width - 40;
                const lines = wrapText(ctx, brandName, maxWidth);
                
                lines.forEach((line, index) => {
                    ctx.fillText(line, canvas.width / 2, currentY + (index * 35));
                });
                
                currentY += (lines.length * 35) + 15;
            }
            
            // Description
            const description = document.getElementById('description').value.trim();
            if (description) {
                ctx.fillStyle = '#86868b';
                ctx.font = '18px SF Pro Display, sans-serif';
                ctx.textAlign = 'center';
                
                const maxWidth = canvas.width - 60;
                const lines = wrapText(ctx, description, maxWidth);
                
                lines.forEach((line, index) => {
                    ctx.fillText(line, canvas.width / 2, currentY + (index * 25));
                });
                
                currentY += (lines.length * 25) + 15;
            }
            
            // QR Code placeholder
            const qrSize = 200;
            const qrX = (canvas.width - qrSize) / 2;
            const qrY = currentY + 20;
            
            // Generate actual QR
            const tempCanvas = document.createElement('canvas');
            await QRCode.toCanvas(tempCanvas, 'WIFI:T:WPA;S:TestNetwork;P:password123;;', {
                width: qrSize,
                height: qrSize,
                margin: 4
            });
            
            ctx.drawImage(tempCanvas, qrX, qrY, qrSize, qrSize);
            currentY = qrY + qrSize + 40;
            
            // WiFi network name
            const wifiName = document.getElementById('wifi-name').value;
            ctx.fillStyle = '#1d1d1f';
            ctx.font = 'bold 24px SF Pro Display, sans-serif';
            ctx.textAlign = 'center';
            
            const maxWidth = canvas.width - 40;
            const networkLines = wrapText(ctx, wifiName, maxWidth);
            
            networkLines.forEach((line, index) => {
                ctx.fillText(line, canvas.width / 2, currentY + (index * 30));
            });
        }

        function wrapText(ctx, text, maxWidth) {
            const words = text.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                const word = words[i];
                const width = ctx.measureText(currentLine + ' ' + word).width;
                
                if (width < maxWidth) {
                    currentLine += ' ' + word;
                } else {
                    lines.push(currentLine);
                    currentLine = word;
                }
            }
            
            lines.push(currentLine);
            return lines;
        }

        function downloadCard() {
            const canvas = document.getElementById('card-canvas');
            const link = document.createElement('a');
            link.download = 'test-wifi-card.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Auto-generate with default values
        setTimeout(generateCard, 1000);
    </script>
</body>
</html>
